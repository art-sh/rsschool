!function(e){function t(t){for(var a,s,r=t[0],u=t[1],c=t[2],l=0,h=[];l<r.length;l++)s=r[l],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(m&&m(t);h.length;)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={0:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var r=window.webpackJsonp=window.webpackJsonp||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var m=u;o.push([121,1]),n()}({121:function(e,t,n){n(122),e.exports=n(313)},309:function(e,t,n){var a=n(310),i=n(311),o=n(312),s='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>Momentum</title> <meta name="viewport" content="width=device-width,initial-scale=1"> <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;400;700&display=swap" rel="stylesheet"> </head> <body> <section id="main__container" class="momentum"> <div class="momentum__background"></div> <div class="momentum__content-wrapper"> <div class="momentum__content"> <h2 class="momentum__content-header" title="Click to toggle chill mode">Chill mode <b>(click)</b></h2> <div class="momentum__content-date"> <span class="momentum__content-date-day"></span> <span>,</span> <span class="momentum__content-date-date"></span> <span class="momentum__content-date-month"></span> </div> <div class="momentum__content-time"> <span class="momentum__content-time-hours"></span> <span>:</span> <span class="momentum__content-time-minutes"></span> <span>:</span> <span class="momentum__content-time-seconds"></span> </div> <div class="momentum__content-hello"> <div class="momentum__content-hello-welcome"> <span class="momentum__content-hello-welcome-text">Good</span> <span>&nbsp;</span> <span class="momentum__content-hello-welcome-period"></span> <span>,</span> </div> <div class="momentum__content-hello-name" contenteditable="true"></div> </div> <div class="momentum__content-focus"> <div class="momentum__content-focus-header">What Is Your Focus For Today ?</div> <div class="momentum__content-focus-target" contenteditable></div> </div> <div class="momentum__content-weather"> <div class="momentum__content-weather-city" contenteditable title="Enter your city"></div> <div class="momentum__content-weather-info"> <div class="momentum__content-weather-info-temperature"> <span class="momentum__content-weather-info-temperature-icon owf owf-3x owf-800"></span> <span class="momentum__content-weather-info-temperature-text"></span> </div> <div class="momentum__content-weather-info-wind"> <span class="momentum__content-weather-info-wind-icon owf owf-3x owf-956"></span> <span class="momentum__content-weather-info-wind-text"></span> </div> <div class="momentum__content-weather-info-humidity"> <span class="momentum__content-weather-info-humidity-icon owf owf-3x owf-701"></span> <span class="momentum__content-weather-info-humidity-text"></span> </div> </div> </div> <div class="momentum__image-generate"> <figure class="momentum__image-generate-image"> <img src="'+a(i)+'" alt="background"> </figure> <div class="momentum__image-generate-button"> <span class="momentum__image-generate-button-text">Get new image</span> <span class="momentum__image-generate-button-indicator">↺</span> </div> </div> <div class="momentum__content-quote"> <figure class="momentum__content-quote-image"> <img src="'+a(o)+'" alt="quote"> </figure> <div class="momentum__content-quote-header"> <span>Get new quote</span> <span class="momentum__content-quote-header-indicator">↺</span> </div> <div class="momentum__content-quote-content"></div> </div> </div> </div> </section> </body> </html>';e.exports=s},311:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/shared/23f2049922e661385682d97845a63b87.svg"},312:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/shared/572825b30834fc4504b05ea6fe13229e.svg"},313:function(e,t,n){"use strict";n.r(t);n(309);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentDate={day:this.buildDateProxy({name:"day",value:"",class:"momentum__content-date-day",element:null}),date:this.buildDateProxy({name:"date",value:"",class:"momentum__content-date-date",element:null}),month:this.buildDateProxy({name:"month",value:"",class:"momentum__content-date-month",element:null}),hours:this.buildDateProxy({name:"hours",value:"",class:"momentum__content-time-hours",element:null}),minutes:this.buildDateProxy({name:"minutes",value:"",class:"momentum__content-time-minutes",element:null}),seconds:this.buildDateProxy({name:"seconds",value:"",class:"momentum__content-time-seconds",element:null})},this.currentPeriod=[this.buildPeriodProxy({periodName:"morning",periodImages:{"06":null,"07":null,"08":null,"09":null,10:null,11:null},isInPeriod:function(e){return Object.keys(this.periodImages).includes(e)},fillImagesByArray:function(e){var t=0;for(var n in this.periodImages)this.periodImages[n]="./assets/images/".concat(this.periodName,"/").concat(e[t++],".jpg")},isActive:!1,isDark:!1}),this.buildPeriodProxy({periodName:"day",periodImages:{12:null,13:null,14:null,15:null,16:null,17:null},isInPeriod:function(e){return Object.keys(this.periodImages).includes(e)},fillImagesByArray:function(e){var t=0;for(var n in this.periodImages)this.periodImages[n]="./assets/images/".concat(this.periodName,"/").concat(e[t++],".jpg")},isActive:!1,isDark:!1}),this.buildPeriodProxy({periodName:"evening",periodImages:{18:null,19:null,20:null,21:null,22:null,23:null},isInPeriod:function(e){return Object.keys(this.periodImages).includes(e)},fillImagesByArray:function(e){var t=0;for(var n in this.periodImages)this.periodImages[n]="./assets/images/".concat(this.periodName,"/").concat(e[t++],".jpg")},isActive:!1,isDark:!0}),this.buildPeriodProxy({periodName:"night",periodImages:{"00":null,"01":null,"02":null,"03":null,"04":null,"05":null},isInPeriod:function(e){return Object.keys(this.periodImages).includes(e)},fillImagesByArray:function(e){var t=0;for(var n in this.periodImages)this.periodImages[n]="./assets/images/".concat(this.periodName,"/").concat(e[t++],".jpg")},isActive:!1,isDark:!0})],this.lockImageChange=!1,this.lockQuoteChange=!1,this.weatherApiKey="006b7eb55b69c38c3e1040a0af75546b",this.storage=this.buildStorageProxy({name:"",focus:"",weatherCity:""}),this.classList={background:"momentum__background",period:"momentum__content-hello-welcome-period",name:"momentum__content-hello-name",focus:"momentum__content-focus-target",chillMode:"momentum__content-header",generateImage:"momentum__image-generate-button",generateQuote:"momentum__content-quote-header",generateQuoteIndicator:"momentum__content-quote-header-indicator",quoteText:"momentum__content-quote-content",quoteAuthor:"momentum__content-quote-author",weatherCity:"momentum__content-weather-city",weatherTemperatureIcon:"momentum__content-weather-info-temperature-icon",weatherTemperatureText:"momentum__content-weather-info-temperature-text",weatherWindText:"momentum__content-weather-info-wind-text",weatherHumidityText:"momentum__content-weather-info-humidity-text"},this.baseText={name:"[Enter Name]",focus:"[Enter Focus]",weatherCity:"[Loading City]"},this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.quoteUrl="https://favqs.com/api/qotd",this.container=t,this.backgroundElement=t.querySelector(".".concat(this.classList.background)),this.periodElement=t.querySelector(".".concat(this.classList.period)),this.nameElement=t.querySelector(".".concat(this.classList.name)),this.focusElement=t.querySelector(".".concat(this.classList.focus)),this.chillModeElement=t.querySelector(".".concat(this.classList.chillMode)),this.generateImageElement=t.querySelector(".".concat(this.classList.generateImage)),this.generateQuoteElement=t.querySelector(".".concat(this.classList.generateQuote)),this.quoteTextElement=t.querySelector(".".concat(this.classList.quoteText)),this.quoteAuthorElement=t.querySelector(".".concat(this.classList.quoteAuthor)),this.weatherCityElement=t.querySelector(".".concat(this.classList.weatherCity)),this.weatherTemperatureIconElement=t.querySelector(".".concat(this.classList.weatherTemperatureIcon)),this.weatherTemperatureTextElement=t.querySelector(".".concat(this.classList.weatherTemperatureText)),this.weatherWindTextElement=t.querySelector(".".concat(this.classList.weatherWindText)),this.weatherHumidityTextElement=t.querySelector(".".concat(this.classList.weatherHumidityText)),this.assignDateElements(),this.setListeners(),this.getRandomQuote(),this.getWeatherByCity(this.storage.city||"Minsk")}var t,n,i;return t=e,(n=[{key:"buildDateProxy",value:function(e){var t=this;return new Proxy(e,{set:function(e,n,a){var i=e[n];return a<10&&(a="0".concat(a)),i===a||(e[n]=a,"value"===n&&t.updateDateElementValue(e.element,a),"hours"===e.name&&""!==e.value&&t.setCurrentPeriod()),!0}})}},{key:"buildPeriodProxy",value:function(e){var t=this;return e.fillImagesByArray(this.fillArrayByRandom(6)),new Proxy(e,{set:function(e,n,a){return e[n]===a||(e[n]=a,e.isActive&&(t.setNewBackground(e.periodImages[t.currentDate.hours.value]),t.updatePeriodValue(e.periodName))),!0}})}},{key:"buildStorageProxy",value:function(e){return new Proxy(e,{get:function(e,t){var n=e[t];return n||(n=localStorage.getItem("__".concat(t))||""),n},set:function(e,t,n){return e[t]=n,localStorage[""===n.trim()?"removeItem":"setItem"]("__".concat(t),n),!0}})}},{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";fetch(e).then((function(e){return"json"===n?e.json():e.text()})).then(t)}))},{key:"setListeners",value:function(){this.setChillModeListener(),this.setInputListeners(),this.setGenerateImageListener(),this.setGenerateQuoteListener()}},{key:"assignDateElements",value:function(){for(var e in this.currentDate){var t=this.currentDate[e];t.element=this.container.querySelector(".".concat(t.class))}this.startCount()}},{key:"startCount",value:function(){var e=new Date;this.currentDate.day.value=this.dayNames[e.getDay()],this.currentDate.date.value=""+e.getUTCDate(),this.currentDate.month.value=this.monthNames[e.getMonth()],this.currentDate.hours.value=""+e.getHours(),this.currentDate.minutes.value=""+e.getMinutes(),this.currentDate.seconds.value=""+e.getSeconds(),setTimeout(this.startCount.bind(this),1e3-String(Date.now()).slice(-3))}},{key:"updateDateElementValue",value:function(e,t){e&&(e.innerText=t)}},{key:"setCurrentPeriod",value:function(){var e=this;this.currentPeriod.forEach((function(t){t.isActive=t.isInPeriod(e.currentDate.hours.value)}))}},{key:"updatePeriodValue",value:function(e){this.periodElement.innerText=e}},{key:"setInputListeners",value:function(){var e=this;["name","focus","weatherCity"].forEach((function(t){return e.setInputListener(t)}))}},{key:"setInputListener",value:function(e){var t=this,n=this["".concat(e,"Element")],a=this.baseText[e],i=this.storage;n.addEventListener("focus",setTimeout.bind(null,(function(){return n.innerText=""}),0)),n.addEventListener("keypress",(function(e){13!==e.keyCode&&13!==e.which||n.blur()})),n.addEventListener("blur",(function(){n.innerText=n.innerText.trim(),""===n.innerText&&(n.innerText=i[e]||a),""!==n.innerText&&"weatherCity"===e&&t.getWeatherByCity(n.innerText!==a?n.innerText:"Minsk"),setTimeout((function(){return i[e]=n.innerText}),0)})),n.innerText=i[e]||"",n.dispatchEvent(new Event("blur"))}},{key:"fillArrayByRandom",value:function(e){return Array.from({length:20},(function(e,t){return t+1})).sort((function(e,t){return Math.random()-.5})).slice(0,e)}},{key:"setNewBackground",value:function(e,t){var n=this,a=new Image;a.src=e,a.onload=function(){n.backgroundElement.style.backgroundImage="url('".concat(e,"')"),t&&t()}}},{key:"getRandomQuote",value:function(){var e=this;this.lockQuoteChange||(this.lockQuoteChange=!0,this.generateQuoteElement.classList.add("animate"),this.fetch(this.quoteUrl,(function(t){var n=JSON.parse(t);e.quoteTextElement.innerText="".concat(n.quote.body," (").concat(n.quote.author,")"),setTimeout((function(){e.lockQuoteChange=!1,e.generateQuoteElement.classList.remove("animate")}),1e3,e)})))}},{key:"setGenerateImageListener",value:function(){var e=this;this.generateImageElement.addEventListener("click",(function(){if(!e.lockImageChange){var t=e.getBackgroundsInfo();e.generateImageElement.classList.add("animate"),e.lockImageChange=!0,e.setNewBackground(t.next,(function(){setTimeout((function(){e.lockImageChange=!1,e.generateImageElement.classList.remove("animate")}),500,e)}))}}))}},{key:"setChillModeListener",value:function(){var e=this;this.chillModeElement.addEventListener("click",(function(){e.container.classList.toggle("transparent")}))}},{key:"getBackgroundsInfo",value:function(){var e=[],t=this.backgroundElement.style.backgroundImage;for(var n in this.currentPeriod)Object.values(this.currentPeriod[n].periodImages).forEach((function(t){return e.push(t.slice(2))}));return e.reduce((function(n,a,i){return t.includes(a)&&(n.current=a,n.next=e[i+1]||e[0]),n}),{})}},{key:"setGenerateQuoteListener",value:function(){this.generateQuoteElement.addEventListener("click",this.getRandomQuote.bind(this))}},{key:"getWeatherByCity",value:function(e){var t=this;this.fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(this.weatherApiKey,"&units=metric"),(function(e){if("200"!=e.cod)return alert("".concat(e.message[0].toUpperCase()).concat(e.message.slice(1),", setting default city.")),void t.getWeatherByCity("Minsk");t.weatherCityElement.innerText=e.name,t.storage.weatherCity=e.name,t.weatherTemperatureIconElement.classList.remove(t.weatherTemperatureIconElement.classList[t.weatherTemperatureIconElement.classList.length-1]),t.weatherTemperatureIconElement.classList.add("owf-".concat(e.weather[0].id)),t.weatherTemperatureTextElement.innerText="".concat(e.main.temp," °"),t.weatherWindTextElement.innerText="".concat(e.wind.speed," m/s"),t.weatherHumidityTextElement.innerText="".concat(e.main.humidity," %")}),"json")}}])&&a(t.prototype,n),i&&a(t,i),e}())(document.getElementById("main__container"))}});